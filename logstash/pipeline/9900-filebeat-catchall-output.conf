# Catch anything else and put it in a generic index
#
# Specifically, this way filebeat can scoop up all logs in a target directory.
# The input pipeline ("0120-filebeat-input.conf") tags it twice ["filebeat", "unidentified"]
# and then the filter/identification step "3000-identify-filebeat-source.conf", removes the
# "unidentifie" tag if the log source is identified to go into a specific index.
#
# This step catches any remaining "unidentified" input logs, so we know what we need
# to make further indexes for. Or ignore altogether.
output {
    if "unidentified" in [tags] {
        elasticsearch {
            hosts => ["elasticsearch:9200"]
                manage_template => false
           # Uncomment one of the two lines below for daily vs monthly indexes
           #     index => "logstash-%{+YYYY.MM}"
                index => "logstash-%{+YYYY.MM.dd}"
        }
    }
}